<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>gpss: Gaussian Processes in Social Science — gpss • gpss</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="gpss: Gaussian Processes in Social Science — gpss"><meta name="description" content="
The Gaussian Process (GP) combines a highly flexible non-linear regression approach with rigorous handling of uncertainty. A key feature of this approach is that, while it can be used to produce a conditional expectation function representing the mode of a posterior conditional distribution, it does not “choose a particular model fit” and construct uncertainty estimates conditional on putting full faith in that model. This is valuable because the uncertainty estimates reflect the lesser knowledge we have at locations near, at, or beyond the edge of the observed data, where results from other approaches would become highly model-dependent. We first offer an accessible explanation of GPs, and provide an implementation more suitable to social science inference problems, which reduces the number of user-chosen hyperparameters from three to zero. We then illustrate the settings in which GPs can be most valuable: those where conventional approaches have poor properties due to model-dependency/extrapolation in data-sparse regions. Specifically, we demonstrate the usefulness of GPs in contexts where (i) treated and control models are needed by these groups have poor covariate overlap; (ii) regression discontinuity, which depends on model estimates taken at or just beyond the edge of their supporting data; and (iii) interrupted time-series designs, where models are fitted prior to an event by extrapolated after it."><meta property="og:description" content="
The Gaussian Process (GP) combines a highly flexible non-linear regression approach with rigorous handling of uncertainty. A key feature of this approach is that, while it can be used to produce a conditional expectation function representing the mode of a posterior conditional distribution, it does not “choose a particular model fit” and construct uncertainty estimates conditional on putting full faith in that model. This is valuable because the uncertainty estimates reflect the lesser knowledge we have at locations near, at, or beyond the edge of the observed data, where results from other approaches would become highly model-dependent. We first offer an accessible explanation of GPs, and provide an implementation more suitable to social science inference problems, which reduces the number of user-chosen hyperparameters from three to zero. We then illustrate the settings in which GPs can be most valuable: those where conventional approaches have poor properties due to model-dependency/extrapolation in data-sparse regions. Specifically, we demonstrate the usefulness of GPs in contexts where (i) treated and control models are needed by these groups have poor covariate overlap; (ii) regression discontinuity, which depends on model estimates taken at or just beyond the edge of their supporting data; and (iii) interrupted time-series designs, where models are fitted prior to an event by extrapolated after it."><meta property="og:image" content="https://doeunkim.org/gpss/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gpss</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/doeun-kim/gpss/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>gpss: Gaussian Processes in Social Science</h1>
      <small class="dont-index">Source: <a href="https://github.com/doeun-kim/gpss/blob/master/R/gpss-package.R" class="external-link"><code>R/gpss-package.R</code></a>, <a href="https://github.com/doeun-kim/gpss/blob/master/R/gpss.R" class="external-link"><code>R/gpss.R</code></a></small>
      <div class="d-none name"><code>gpss.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p>
<p>The Gaussian Process (GP) combines a highly flexible non-linear regression approach with rigorous handling of uncertainty. A key feature of this approach is that, while it can be used to produce a conditional expectation function representing the mode of a posterior conditional distribution, it does not “choose a particular model fit” and construct uncertainty estimates conditional on putting full faith in that model. This is valuable because the uncertainty estimates reflect the lesser knowledge we have at locations near, at, or beyond the edge of the observed data, where results from other approaches would become highly model-dependent. We first offer an accessible explanation of GPs, and provide an implementation more suitable to social science inference problems, which reduces the number of user-chosen hyperparameters from three to zero. We then illustrate the settings in which GPs can be most valuable: those where conventional approaches have poor properties due to model-dependency/extrapolation in data-sparse regions. Specifically, we demonstrate the usefulness of GPs in contexts where (i) treated and control models are needed by these groups have poor covariate overlap; (ii) regression discontinuity, which depends on model estimates taken at or just beyond the edge of their supporting data; and (iii) interrupted time-series designs, where models are fitted prior to an event by extrapolated after it.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gpss</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, b <span class="op">=</span> <span class="cn">NULL</span>, s2 <span class="op">=</span> <span class="fl">0.3</span>, optimize <span class="op">=</span> <span class="cn">FALSE</span>, scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-b">b<a class="anchor" aria-label="anchor" href="#arg-b"></a></dt>
<dd><p>bandwidth (default = NULL)</p></dd>


<dt id="arg-s-">s2<a class="anchor" aria-label="anchor" href="#arg-s-"></a></dt>
<dd><p>noise or a fraction of Y not explained by X (default = 0.3)</p></dd>


<dt id="arg-optimize">optimize<a class="anchor" aria-label="anchor" href="#arg-optimize"></a></dt>
<dd><p>a logical value to indicate whether an automatic optimized value of S2 should be used. If FALSE, users must define s2. (default = FALSE)</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>a logical value to indicate whether covariates should be scaled. (dafault = TRUE)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>


<dl><dt>post_mean_scaled</dt>
<dd><p>posterior distribution of Y in a scaled form</p></dd>

<dt>post_mean_orig</dt>
<dd><p>posterior distribution of Y in an original scale</p></dd>

<dt>post_cov_scaled</dt>
<dd><p>posterior covariance matrix in a scaled form</p></dd>

<dt>post_cov_orig</dt>
<dd><p>posterior covariance matrix in an original scale</p></dd>

<dt>K</dt>
<dd><p>a kernel matrix of X</p></dd>

<dt>prior_mean_scaled</dt>
<dd><p>prior distribution of mean in a scaled form</p></dd>

<dt>X.orig</dt>
<dd><p>the original matrix or data set of X</p></dd>

<dt>X.init</dt>
<dd><p>the original matrix or data set of X with categorical variables in an expanded form</p></dd>

<dt>X.init.mean</dt>
<dd><p>the initial mean values of X</p></dd>

<dt>X.init.sd</dt>
<dd><p>the initial standard deviation values of X</p></dd>

<dt>Y.init.mean</dt>
<dd><p>the initial mean value of Y</p></dd>

<dt>Y.init.sd</dt>
<dd><p>the initial standard deviation value of Y</p></dd>

<dt>K</dt>
<dd><p>the kernel matrix of X</p></dd>

<dt>Y</dt>
<dd><p>scaled Y</p></dd>

<dt>X</dt>
<dd><p>scaled X</p></dd>

<dt>b</dt>
<dd><p>bandwidth</p></dd>

<dt>s2</dt>
<dd><p>sigma squared</p></dd>

<dt>alpha</dt>
<dd><p>alpha value in Rasmussen and Williams (2006) p.19</p></dd>

<dt>L</dt>
<dd><p>L value in Rasmussen and Williams (2006) p.19</p></dd>

<dt>mixed_data</dt>
<dd><p>a logical value indicating whether X contains a categorical/binary variable</p></dd>

<dt>cat_columns</dt>
<dd><p>a character or a numerical vector indicating the location of categorical/binary variables in X</p></dd>

<dt>cat_num</dt>
<dd><p>a numerical vector indicating the location of categorical/binary variables in an expanded version of X</p></dd>

<dt>Xcolnames</dt>
<dd><p>column names of X</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="http://doeunkim.org/gpss/" class="external-link">http://doeunkim.org/gpss/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/doeun-kim/gpss/issues" class="external-link">https://github.com/doeun-kim/gpss/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Chad Hazlett <a href="mailto:chazlett@ucla.edu">chazlett@ucla.edu</a></p>
<p>Authors:</p><ul><li><p>Soonhong Cho <a href="mailto:tnsehdtm@gmail.com">tnsehdtm@gmail.com</a></p></li>
<li><p>Doeun Kim <a href="mailto:doeun2@ucla.edu">doeun2@ucla.edu</a> (<a href="https://orcid.org/0000-0003-4789-6599" class="external-link">ORCID</a>)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://doeunkim.org/gpss/" class="external-link">gpss</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">lalonde</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># categorical variables must be encoded as factors</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">lalonde</span>, race_ethnicity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">race_ethnicity</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># train and test sets</span></span></span>
<span class="r-in"><span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span>, <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat_train</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="va">idx</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat_test</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="op">-</span><span class="va">idx</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit model</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">gpss</span><span class="op">(</span><span class="va">re78</span> <span class="op">~</span> <span class="va">nsw</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">race_ethnicity</span>, data <span class="op">=</span> <span class="va">dat_train</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># predictions in the test set</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat_test</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6525</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           fit      lwr      upr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 22145.05 19822.42 24467.68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 12916.15  7159.04 18673.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 22058.53 19773.21 24343.86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 19004.86 16373.44 21636.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 21553.43 17391.42 25715.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 22909.66  6826.16 38993.15</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Soonhong Cho, Doeun Kim, Chad Hazlett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

